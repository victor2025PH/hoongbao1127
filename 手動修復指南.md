# æ‰‹å‹•ä¿®å¾©æŒ‡å—

## ğŸ“Š å•é¡Œåˆ†æ

### éŒ¯èª¤ä¿¡æ¯
```
ModuleNotFoundError: No module named 'loguru'
File "C:\hbgm001\api\main.py", line 14, in <module>
    from loguru import logger
```

### å•é¡ŒåŸå› 
1. **loguru æ¨¡çµ„æœªå®‰è£** - æœ€å¯èƒ½çš„åŸå› 
2. **å®‰è£åˆ°äº†éŒ¯èª¤çš„ Python ç’°å¢ƒ** - å¦‚æœæœ‰å¤šå€‹ Python ç‰ˆæœ¬
3. **requirements.txt å®‰è£ä¸å®Œæ•´** - æŸäº›ä¾è³´å®‰è£å¤±æ•—

---

## âœ… è§£æ±ºæ–¹æ¡ˆï¼ˆæ‰‹å‹•åŸ·è¡Œï¼‰

### æ­¥é©Ÿ 1: ç¢ºèªç•¶å‰ Python ç’°å¢ƒ

**åŸ·è¡Œå‘½ä»¤**:
```powershell
cd C:\hbgm001\api
python --version
python -m pip --version
```

**ç›®çš„**: ç¢ºèªä½¿ç”¨çš„ Python ç‰ˆæœ¬å’Œ pip ç‰ˆæœ¬

---

### æ­¥é©Ÿ 2: æª¢æŸ¥ loguru æ˜¯å¦å·²å®‰è£

**åŸ·è¡Œå‘½ä»¤**:
```powershell
python -m pip show loguru
```

**é æœŸçµæœ**:
- å¦‚æœå·²å®‰è£ï¼Œæœƒé¡¯ç¤ºåŒ…ä¿¡æ¯
- å¦‚æœæœªå®‰è£ï¼Œæœƒé¡¯ç¤º "WARNING: Package(s) not found"

---

### æ­¥é©Ÿ 3: å®‰è£ loguru

**åŸ·è¡Œå‘½ä»¤**:
```powershell
python -m pip install loguru
```

**é æœŸè¼¸å‡º**:
```
Collecting loguru
  Downloading loguru-0.7.x...
Installing collected packages: loguru
Successfully installed loguru-0.7.x
```

---

### æ­¥é©Ÿ 4: å®‰è£æ‰€æœ‰ä¾è³´ï¼ˆæ¨è–¦ï¼‰

**åŸ·è¡Œå‘½ä»¤**:
```powershell
python -m pip install -r requirements.txt
```

**é€™æœƒå®‰è£æ‰€æœ‰å¿…è¦çš„ä¾è³´**:
- fastapi
- uvicorn
- sqlalchemy
- asyncpg
- loguru
- python-telegram-bot
- ç­‰ç­‰

---

### æ­¥é©Ÿ 5: é©—è­‰å®‰è£

**åŸ·è¡Œå‘½ä»¤**:
```powershell
python -c "from loguru import logger; print('âœ… loguru å°å…¥æˆåŠŸ')"
```

**é æœŸè¼¸å‡º**:
```
âœ… loguru å°å…¥æˆåŠŸ
```

**å¦‚æœå¤±æ•—**:
- æª¢æŸ¥æ˜¯å¦ä½¿ç”¨äº†æ­£ç¢ºçš„ Python
- æª¢æŸ¥ pip æ˜¯å¦æŒ‡å‘æ­£ç¢ºçš„ Python

---

### æ­¥é©Ÿ 6: æ¸¬è©¦å…¶ä»–é—œéµå°å…¥

**åŸ·è¡Œå‘½ä»¤**:
```powershell
python -c "from fastapi import FastAPI; print('âœ… fastapi OK')"
python -c "import sys; sys.path.insert(0, '.'); from api.routers import chats; print('âœ… chats OK')"
```

**ç›®çš„**: ç¢ºèªæ‰€æœ‰é—œéµæ¨¡çµ„éƒ½å¯ä»¥å°å…¥

---

### æ­¥é©Ÿ 7: å•Ÿå‹•æœå‹™å™¨

**åŸ·è¡Œå‘½ä»¤**:
```powershell
python -m uvicorn main:app --reload --host 127.0.0.1 --port 8000
```

**é æœŸè¼¸å‡º**:
```
INFO:     Will watch for changes in these directories: ['C:\\hbgm001\\api']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [xxxxx] using StatReload
INFO:     Started server process [xxxxx]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
```

**å¦‚æœé‚„æœ‰éŒ¯èª¤**:
- æŸ¥çœ‹å®Œæ•´çš„éŒ¯èª¤ä¿¡æ¯
- æ ¹æ“šéŒ¯èª¤ä¿¡æ¯ç¹¼çºŒä¿®å¾©

---

## ğŸ”§ å¦‚æœæ­¥é©Ÿ 3 å¤±æ•—

### å•é¡Œ: pip å®‰è£å¤±æ•—

**å¯èƒ½åŸå› **:
- ç¶²çµ¡å•é¡Œ
- æ¬Šé™å•é¡Œ
- pip ç‰ˆæœ¬éèˆŠ

**è§£æ±ºæ–¹æ¡ˆ**:

1. **å‡ç´š pip**:
   ```powershell
   python -m pip install --upgrade pip
   ```

2. **ä½¿ç”¨åœ‹å…§é¡åƒï¼ˆå¦‚æœç¶²çµ¡æ…¢ï¼‰**:
   ```powershell
   python -m pip install loguru -i https://pypi.tuna.tsinghua.edu.cn/simple
   ```

3. **ä½¿ç”¨ç®¡ç†å“¡æ¬Šé™**:
   - å³éµé»æ“Š PowerShell
   - é¸æ“‡"ä»¥ç®¡ç†å“¡èº«ä»½é‹è¡Œ"
   - å†åŸ·è¡Œå®‰è£å‘½ä»¤

---

## ğŸ”§ å¦‚æœæœ‰å¤šå€‹ Python ç‰ˆæœ¬

### æª¢æŸ¥ Python ç‰ˆæœ¬

**åŸ·è¡Œå‘½ä»¤**:
```powershell
python --version
python3 --version
py --version
where python
```

**å¦‚æœç™¼ç¾å¤šå€‹ç‰ˆæœ¬**:
- ç¢ºèª `python` å‘½ä»¤æŒ‡å‘å“ªå€‹ç‰ˆæœ¬
- ä½¿ç”¨å®Œæ•´è·¯å¾‘å®‰è£ä¾è³´

---

## ğŸ“‹ å®Œæ•´åŸ·è¡Œé †åº

### æŒ‰é †åºåŸ·è¡Œä»¥ä¸‹å‘½ä»¤

```powershell
# 1. é€²å…¥ API ç›®éŒ„
cd C:\hbgm001\api

# 2. ç¢ºèª Python ç‰ˆæœ¬
python --version

# 3. å‡ç´š pipï¼ˆå¯é¸ä½†æ¨è–¦ï¼‰
python -m pip install --upgrade pip

# 4. å®‰è£ loguru
python -m pip install loguru

# 5. å®‰è£æ‰€æœ‰ä¾è³´
python -m pip install -r requirements.txt

# 6. é©—è­‰ loguru
python -c "from loguru import logger; print('OK')"

# 7. å•Ÿå‹•æœå‹™å™¨
python -m uvicorn main:app --reload --host 127.0.0.1 --port 8000
```

---

## ğŸ¯ é æœŸçµæœ

### å¦‚æœä¸€åˆ‡æ­£å¸¸

1. **ä¾è³´å®‰è£æˆåŠŸ**:
   ```
   Successfully installed loguru-0.7.x
   ```

2. **å°å…¥æ¸¬è©¦æˆåŠŸ**:
   ```
   âœ… loguru å°å…¥æˆåŠŸ
   ```

3. **æœå‹™å™¨å•Ÿå‹•æˆåŠŸ**:
   ```
   INFO:     Application startup complete.
   ```

4. **å¯ä»¥è¨ªå•**:
   - `http://localhost:8000/docs`
   - `http://localhost:8000/api/v1/chats/search?q=minihb2`

---

## âš ï¸ å¦‚æœé‚„æœ‰å…¶ä»–éŒ¯èª¤

### å¸¸è¦‹éŒ¯èª¤

1. **ImportError: cannot import name 'chats'**
   - æª¢æŸ¥ `api/routers/chats.py` æ˜¯å¦å­˜åœ¨
   - æª¢æŸ¥æ–‡ä»¶è·¯å¾‘

2. **DatabaseError**
   - æª¢æŸ¥æ•¸æ“šåº«é…ç½®
   - æª¢æŸ¥æ•¸æ“šåº«é€£æ¥

3. **å…¶ä»– ModuleNotFoundError**
   - å®‰è£ç¼ºå¤±çš„æ¨¡çµ„
   - æª¢æŸ¥ requirements.txt

---

## ğŸ’¡ å»ºè­°

### ä½¿ç”¨è™›æ“¬ç’°å¢ƒï¼ˆæ¨è–¦ï¼‰

```powershell
# å‰µå»ºè™›æ“¬ç’°å¢ƒ
cd C:\hbgm001\api
python -m venv .venv

# æ¿€æ´»è™›æ“¬ç’°å¢ƒ
.venv\Scripts\activate

# å®‰è£ä¾è³´
pip install -r requirements.txt

# å•Ÿå‹•æœå‹™å™¨
uvicorn main:app --reload --host 127.0.0.1 --port 8000
```

é€™æ¨£å¯ä»¥é¿å…èˆ‡ç³»çµ± Python åŒ…çš„è¡çªã€‚

---

**è«‹æŒ‰ç…§ä¸Šè¿°æ­¥é©Ÿæ‰‹å‹•åŸ·è¡Œï¼Œå‘Šè¨´æˆ‘æ¯ä¸€æ­¥çš„çµæœï¼**

