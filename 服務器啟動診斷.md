# æœå‹™å™¨å•Ÿå‹•è¨ºæ–·å ±å‘Š

## ğŸ“Š å•é¡Œæè¿°

**éŒ¯èª¤**: `ERR_CONNECTION_REFUSED`
**ç¾è±¡**: ç€è¦½å™¨ç„¡æ³•é€£æ¥åˆ° `localhost:8000`

---

## ğŸ” è¨ºæ–·æ­¥é©Ÿ

### æ­¥é©Ÿ 1: æª¢æŸ¥æœå‹™å™¨é€²ç¨‹

**å‘½ä»¤**:
```powershell
Get-Process python
netstat -ano | findstr ":8000"
```

**é æœŸçµæœ**: 
- æ‡‰è©²æœ‰ Python é€²ç¨‹åœ¨é‹è¡Œ
- ç«¯å£ 8000 æ‡‰è©²è¢«å ç”¨

---

### æ­¥é©Ÿ 2: æª¢æŸ¥ä¾è³´å®‰è£

**å‘½ä»¤**:
```powershell
cd C:\hbgm001\api
python -m pip install -r requirements.txt
```

**æª¢æŸ¥é …ç›®**:
- `loguru` æ˜¯å¦å®‰è£
- `fastapi` æ˜¯å¦å®‰è£
- `uvicorn` æ˜¯å¦å®‰è£
- å…¶ä»–ä¾è³´æ˜¯å¦å®‰è£

---

### æ­¥é©Ÿ 3: æ¸¬è©¦å°å…¥

**æ¸¬è©¦ loguru**:
```powershell
python -c "from loguru import logger; print('OK')"
```

**æ¸¬è©¦ fastapi**:
```powershell
python -c "from fastapi import FastAPI; print('OK')"
```

**æ¸¬è©¦ chats è·¯ç”±**:
```powershell
python -c "from api.routers import chats; print('OK')"
```

---

### æ­¥é©Ÿ 4: æ‰‹å‹•å•Ÿå‹•æœå‹™å™¨

**å‘½ä»¤**:
```powershell
cd C:\hbgm001\api
python -m uvicorn main:app --reload --host 127.0.0.1 --port 8000
```

**æŸ¥çœ‹è¼¸å‡º**:
- å¦‚æœæœ‰éŒ¯èª¤ï¼Œæœƒé¡¯ç¤ºåœ¨çµ‚ç«¯
- å¦‚æœæˆåŠŸï¼Œæœƒé¡¯ç¤º "Application startup complete"

---

## ğŸ”§ å¸¸è¦‹å•é¡Œå’Œè§£æ±ºæ–¹æ¡ˆ

### å•é¡Œ 1: ModuleNotFoundError

**éŒ¯èª¤**: `ModuleNotFoundError: No module named 'xxx'`

**è§£æ±ºæ–¹æ¡ˆ**:
```powershell
pip install xxx
# æˆ–
pip install -r requirements.txt
```

---

### å•é¡Œ 2: ImportError

**éŒ¯èª¤**: `ImportError: cannot import name 'chats'`

**è§£æ±ºæ–¹æ¡ˆ**:
- æª¢æŸ¥ `api/routers/chats.py` æ˜¯å¦å­˜åœ¨
- æª¢æŸ¥ `api/main.py` ä¸­çš„å°å…¥è·¯å¾‘

---

### å•é¡Œ 3: ç«¯å£è¢«å ç”¨

**éŒ¯èª¤**: `Address already in use`

**è§£æ±ºæ–¹æ¡ˆ**:
```powershell
# ä½¿ç”¨å…¶ä»–ç«¯å£
python -m uvicorn main:app --reload --host 127.0.0.1 --port 8001
```

---

### å•é¡Œ 4: èªæ³•éŒ¯èª¤

**éŒ¯èª¤**: `SyntaxError: invalid syntax`

**è§£æ±ºæ–¹æ¡ˆ**:
```powershell
python -m py_compile main.py
python -m py_compile routers/chats.py
```

---

## ğŸ“‹ å®Œæ•´å•Ÿå‹•æµç¨‹

### 1. é€²å…¥ API ç›®éŒ„
```powershell
cd C:\hbgm001\api
```

### 2. å®‰è£ä¾è³´
```powershell
python -m pip install -r requirements.txt
```

### 3. æ¸¬è©¦å°å…¥
```powershell
python -c "from loguru import logger; from fastapi import FastAPI; from api.routers import chats; print('All imports OK')"
```

### 4. å•Ÿå‹•æœå‹™å™¨
```powershell
python -m uvicorn main:app --reload --host 127.0.0.1 --port 8000
```

### 5. æŸ¥çœ‹è¼¸å‡º
- å¦‚æœæˆåŠŸï¼Œæœƒçœ‹åˆ° "Application startup complete"
- å¦‚æœæœ‰éŒ¯èª¤ï¼Œæœƒé¡¯ç¤ºå…·é«”éŒ¯èª¤ä¿¡æ¯

---

## ğŸ¯ é æœŸè¼¸å‡º

### æˆåŠŸå•Ÿå‹•çš„è¼¸å‡º

```
INFO:     Will watch for changes in these directories: ['C:\\hbgm001\\api']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [xxxxx] using StatReload
INFO:     Started server process [xxxxx]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
```

---

## ğŸ’¡ å»ºè­°

1. **ä½¿ç”¨è™›æ“¬ç’°å¢ƒ**ï¼ˆæ¨è–¦ï¼‰:
   ```powershell
   python -m venv .venv
   .venv\Scripts\activate
   pip install -r requirements.txt
   ```

2. **æŸ¥çœ‹å®Œæ•´éŒ¯èª¤**:
   - æ‰‹å‹•å•Ÿå‹•æœå‹™å™¨
   - æŸ¥çœ‹çµ‚ç«¯å®Œæ•´è¼¸å‡º
   - æ‰¾å‡ºå…·é«”éŒ¯èª¤

3. **é€æ­¥æ¸¬è©¦**:
   - å…ˆæ¸¬è©¦å°å…¥
   - å†å•Ÿå‹•æœå‹™å™¨
   - æœ€å¾Œæ¸¬è©¦ API

---

**è«‹æ‰‹å‹•åŸ·è¡Œå•Ÿå‹•å‘½ä»¤ï¼ŒæŸ¥çœ‹å®Œæ•´éŒ¯èª¤ä¿¡æ¯ï¼**

