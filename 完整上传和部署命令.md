# ğŸ“¤ğŸ“¥ å®Œæ•´ä¸Šä¼ å’Œéƒ¨ç½²å‘½ä»¤

## ğŸ“¤ æœ¬åœ°ï¼šä¸Šä¼ åˆ° GitHub

### Windows (æ‰¹å¤„ç†è„šæœ¬)

**æ–¹æ³•1ï¼šä½¿ç”¨æ‰¹å¤„ç†è„šæœ¬**
```cmd
scripts\bat\ä¸Šä¼ åˆ°GitHub.bat
```

**æ–¹æ³•2ï¼šä½¿ç”¨ PowerShell è„šæœ¬**
```powershell
.\scripts\ps1\ä¸Šä¼ åˆ°GitHub.ps1
```

**æ–¹æ³•3ï¼šæ‰‹åŠ¨æ‰§è¡Œå‘½ä»¤**
```cmd
cd C:\hbgm001
git add -A
git commit -m "æ›´æ–°ä»£ç "
git push origin master
```

---

## ğŸ“¥ æœåŠ¡å™¨ï¼šä» GitHub æ‹‰å–å¹¶éƒ¨ç½²

### æ–¹æ³•1ï¼šä½¿ç”¨ä¸€é”®è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# SSH è¿æ¥åˆ°æœåŠ¡å™¨
ssh root@your-server-ip

# è¿›å…¥é¡¹ç›®ç›®å½•
cd /opt/luckyred

# å…ˆæ‹‰å–æœ€æ–°ä»£ç ï¼ˆç¡®ä¿è„šæœ¬å­˜åœ¨ï¼‰
git pull origin master

# æ‰§è¡Œæ‹‰å–å’Œéƒ¨ç½²è„šæœ¬ï¼ˆä½¿ç”¨è‹±æ–‡åç§°ï¼Œé¿å…ç¼–ç é—®é¢˜ï¼‰
bash scripts/sh/pull-and-deploy.sh
```

### æ–¹æ³•2ï¼šæŒ‡å®šé¡¹ç›®ç›®å½•

```bash
bash scripts/sh/pull-and-deploy.sh /opt/luckyred
```

### æ–¹æ³•3ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡

```bash
export LUCKYRED_DIR=/opt/luckyred
bash scripts/sh/pull-and-deploy.sh
```

### æ–¹æ³•4ï¼šæ‰‹åŠ¨æ‰§è¡Œå®Œæ•´å‘½ä»¤

```bash
# 1. SSH è¿æ¥åˆ°æœåŠ¡å™¨
ssh root@your-server-ip

# 2. è¿›å…¥é¡¹ç›®ç›®å½•
cd /opt/luckyred

# 3. ä¿å­˜æœ¬åœ°æ›´æ”¹ï¼ˆå¦‚æœæœ‰ï¼‰
git stash

# 4. æ‹‰å–æœ€æ–°ä»£ç 
git pull origin master

# 5. å®‰è£… API ä¾èµ–
cd api
source .venv/bin/activate
pip install -r requirements.txt
deactivate
cd ..

# 6. å®‰è£… Bot ä¾èµ–
cd bot
source .venv/bin/activate
pip install -r requirements.txt
deactivate
cd ..

# 7. æ„å»ºå‰ç«¯
cd frontend
npm install
npm run build
cd ..

# 8. é‡å¯æœåŠ¡
sudo systemctl restart luckyred-api
sudo systemctl restart luckyred-bot
sudo systemctl reload nginx

# 9. æ£€æŸ¥æœåŠ¡çŠ¶æ€
sudo systemctl status luckyred-api
sudo systemctl status luckyred-bot
```

---

## ğŸ”„ å®Œæ•´å·¥ä½œæµç¨‹

### æ­¥éª¤1ï¼šæœ¬åœ°å¼€å‘å®Œæˆå

**Windows:**
```cmd
# æ‰§è¡Œä¸Šä¼ è„šæœ¬
scripts\bat\ä¸Šä¼ åˆ°GitHub.bat
```

**æˆ–æ‰‹åŠ¨:**
```cmd
cd C:\hbgm001
git add -A
git commit -m "ä½ çš„æäº¤ä¿¡æ¯"
git push origin master
```

### æ­¥éª¤2ï¼šåœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²

```bash
# SSH åˆ°æœåŠ¡å™¨
ssh root@your-server-ip

# æ‰§è¡Œéƒ¨ç½²è„šæœ¬
cd /opt/luckyred
bash scripts/sh/ä»GitHubæ‹‰å–å¹¶éƒ¨ç½².sh
```

---

## ğŸ“‹ å¿«é€Ÿå‚è€ƒå‘½ä»¤

### æœ¬åœ°ä¸Šä¼ ï¼ˆWindowsï¼‰

```cmd
# å¿«é€Ÿä¸Šä¼ ï¼ˆä½¿ç”¨é»˜è®¤æäº¤ä¿¡æ¯ï¼‰
cd C:\hbgm001
git add -A
git commit -m "æ›´æ–°: %date% %time%"
git push origin master
```

### æœåŠ¡å™¨æ‹‰å–ï¼ˆLinuxï¼‰

```bash
# å¿«é€Ÿæ‹‰å–å¹¶éƒ¨ç½²
cd /opt/luckyred
git pull origin master
cd api && source .venv/bin/activate && pip install -r requirements.txt && deactivate && cd ..
cd bot && source .venv/bin/activate && pip install -r requirements.txt && deactivate && cd ..
cd frontend && npm install && npm run build && cd ..
sudo systemctl restart luckyred-api luckyred-bot
sudo systemctl reload nginx
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **Git é…ç½®**
   - ç¡®ä¿å·²é…ç½® Git ç”¨æˆ·ä¿¡æ¯
   - ç¡®ä¿æœ‰ GitHub æ¨é€æƒé™

2. **æœåŠ¡å™¨æƒé™**
   - æ‹‰å–ä»£ç ï¼šæ™®é€šç”¨æˆ·å³å¯
   - é‡å¯æœåŠ¡ï¼šéœ€è¦ root æƒé™ï¼ˆä½¿ç”¨ sudoï¼‰

3. **è™šæ‹Ÿç¯å¢ƒ**
   - è„šæœ¬ä¼šè‡ªåŠ¨åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
   - ç¡®ä¿ Python 3.11+ å·²å®‰è£…

4. **Node.js**
   - ç¡®ä¿æœåŠ¡å™¨å·²å®‰è£… Node.js å’Œ npm
   - å‰ç«¯æ„å»ºéœ€è¦ Node.js ç¯å¢ƒ

5. **æœåŠ¡åç§°**
   - å¦‚æœæœåŠ¡åç§°ä¸åŒï¼Œè„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹
   - æˆ–æ‰‹åŠ¨ä¿®æ”¹è„šæœ¬ä¸­çš„æœåŠ¡åç§°

---

## ğŸ› æ•…éšœæ’æŸ¥

### ä¸Šä¼ å¤±è´¥

```cmd
# æ£€æŸ¥ Git è¿œç¨‹ä»“åº“
git remote -v

# æ£€æŸ¥ç½‘ç»œè¿æ¥
ping github.com

# æ£€æŸ¥æ¨é€æƒé™
git push origin master --dry-run
```

### æ‹‰å–å¤±è´¥

```bash
# æ£€æŸ¥ Git ä»“åº“
cd /opt/luckyred
git status

# æ£€æŸ¥è¿œç¨‹ä»“åº“
git remote -v

# æ£€æŸ¥ç½‘ç»œè¿æ¥
ping github.com

# å¼ºåˆ¶æ‹‰å–ï¼ˆä¼šè¦†ç›–æœ¬åœ°æ›´æ”¹ï¼‰
git fetch origin
git reset --hard origin/master
```

### æœåŠ¡é‡å¯å¤±è´¥

```bash
# æ£€æŸ¥æœåŠ¡æ˜¯å¦å­˜åœ¨
systemctl list-units | grep luckyred

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
sudo journalctl -u luckyred-api -n 50
sudo journalctl -u luckyred-bot -n 50

# æ£€æŸ¥æœåŠ¡é…ç½®
sudo systemctl status luckyred-api
```

---

## ğŸ“ è„šæœ¬ä½ç½®

- **æœ¬åœ°ä¸Šä¼ è„šæœ¬**: 
  - `scripts/bat/ä¸Šä¼ åˆ°GitHub.bat` (Windows)
  - `scripts/ps1/ä¸Šä¼ åˆ°GitHub.ps1` (PowerShell)

- **æœåŠ¡å™¨æ‹‰å–è„šæœ¬**: 
  - `scripts/sh/pull-and-deploy.sh` (Linux, æ¨èï¼Œè‹±æ–‡åç§°)
  - `scripts/sh/ä»GitHubæ‹‰å–å¹¶éƒ¨ç½².sh` (Linux, å¯èƒ½æœ‰ç¼–ç é—®é¢˜)

