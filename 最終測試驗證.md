# æœ€çµ‚æ¸¬è©¦é©—è­‰å ±å‘Š

## ğŸ“Š æ¸¬è©¦æ™‚é–“
$(Get-Date -Format "yyyy-MM-dd HH:mm:ss")

---

## âœ… æ¸¬è©¦é …ç›®

### æ¸¬è©¦ 1: API ç«¯é»å¯ç”¨æ€§

**æ¸¬è©¦ç«¯é»**:
- `/api/v1/chats/search` - æœç´¢ç¾¤çµ„
- `/api/v1/chats/users/search` - æœç´¢ç”¨æˆ¶
- `/api/v1/chats/{chat_id}/check` - æª¢æŸ¥ç”¨æˆ¶æ˜¯å¦åœ¨ç¾¤çµ„ä¸­

**æ¸¬è©¦æ–¹æ³•**:
- ä½¿ç”¨ curl æˆ– Postman æ¸¬è©¦ API
- æª¢æŸ¥è¿”å›ç‹€æ…‹ç¢¼å’ŒéŸ¿æ‡‰å…§å®¹

---

### æ¸¬è©¦ 2: å‰ç«¯åŠŸèƒ½æ¸¬è©¦

**æ¸¬è©¦é …ç›®**:
- âœ… æ‰“é–‹ MiniApp
- âœ… é€²å…¥"ç™¼ç´…åŒ…"é é¢
- âœ… é»æ“Š"é¸æ“‡ç¾¤çµ„"æŒ‰éˆ•
- âœ… å˜—è©¦æœç´¢ç¾¤çµ„
- âœ… å˜—è©¦æœç´¢ç”¨æˆ¶
- âœ… é©—è­‰æœç´¢çµæœé¡¯ç¤º

---

### æ¸¬è©¦ 3: æœå‹™å™¨æ—¥èªŒæª¢æŸ¥

**æª¢æŸ¥é …ç›®**:
- âœ… æœå‹™æ˜¯å¦æ­£å¸¸é‹è¡Œ
- âœ… æ˜¯å¦æœ‰éŒ¯èª¤æ—¥èªŒ
- âœ… API è«‹æ±‚æ˜¯å¦æ­£å¸¸è™•ç†

---

## ğŸ“‹ æ¸¬è©¦æ­¥é©Ÿ

### æ­¥é©Ÿ 1: æª¢æŸ¥ API æœå‹™ç‹€æ…‹

**åŸ·è¡Œå‘½ä»¤**:
```bash
ssh ubuntu@165.154.254.99 "sudo systemctl status luckyred-api --no-pager | head -20"
```

**é æœŸçµæœ**: 
- æœå‹™æ‡‰è©²è™•æ–¼ `active (running)` ç‹€æ…‹
- ä¸æ‡‰è©²æœ‰éŒ¯èª¤ä¿¡æ¯

---

### æ­¥é©Ÿ 2: æª¢æŸ¥æœå‹™æ—¥èªŒ

**åŸ·è¡Œå‘½ä»¤**:
```bash
ssh ubuntu@165.154.254.99 "sudo journalctl -u luckyred-api -n 30 --no-pager"
```

**é æœŸçµæœ**: 
- ä¸æ‡‰è©²æœ‰ Python éŒ¯èª¤
- ä¸æ‡‰è©²æœ‰å°å…¥éŒ¯èª¤
- æ‡‰è©²æœ‰æ­£å¸¸çš„å•Ÿå‹•æ—¥èªŒ

---

### æ­¥é©Ÿ 3: æ¸¬è©¦ API ç«¯é»

**æ¸¬è©¦æœç´¢ç¾¤çµ„ API**:
```bash
curl -X GET "https://api.usdt2026.cc/api/v1/chats/search?query=test" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

**é æœŸçµæœ**: 
- æ‡‰è©²è¿”å› 200 ç‹€æ…‹ç¢¼
- æ‡‰è©²è¿”å›ç¾¤çµ„åˆ—è¡¨ï¼ˆå¯èƒ½ç‚ºç©ºï¼‰

---

### æ­¥é©Ÿ 4: å‰ç«¯åŠŸèƒ½æ¸¬è©¦

**æ¸¬è©¦æ­¥é©Ÿ**:
1. æ‰“é–‹ MiniApp
2. é€²å…¥"ç™¼ç´…åŒ…"é é¢
3. é»æ“Š"é¸æ“‡ç¾¤çµ„"
4. åœ¨æœç´¢æ¡†ä¸­è¼¸å…¥é—œéµè©
5. é»æ“Šæœç´¢æˆ–ç­‰å¾…è‡ªå‹•æœç´¢
6. é©—è­‰æœç´¢çµæœæ˜¯å¦é¡¯ç¤º

**é æœŸçµæœ**: 
- æœç´¢æ¡†æ‡‰è©²æ­£å¸¸é¡¯ç¤º
- æœç´¢çµæœæ‡‰è©²æ­£å¸¸é¡¯ç¤º
- ä¸æ‡‰è©²æœ‰éŒ¯èª¤æç¤º

---

## ğŸ”§ å¦‚æœæ¸¬è©¦å¤±æ•—

### å•é¡Œ 1: API ç«¯é»è¿”å› 404

**åŸå› **: è·¯ç”±æœªæ­£ç¢ºè¨»å†Š

**è§£æ±ºæ–¹æ¡ˆ**:
```bash
ssh ubuntu@165.154.254.99 "cd /opt/luckyred && cat api/main.py | grep chats"
```

æ‡‰è©²çœ‹åˆ°ï¼š
```python
from api.routers import chats
app.include_router(chats.router, prefix="/api/v1/chats", tags=["ç¾¤çµ„"])
```

---

### å•é¡Œ 2: å‰ç«¯æœç´¢ç„¡éŸ¿æ‡‰

**åŸå› **: API èª¿ç”¨å¤±æ•—

**è§£æ±ºæ–¹æ¡ˆ**:
1. æª¢æŸ¥ç€è¦½å™¨æ§åˆ¶å°éŒ¯èª¤
2. æª¢æŸ¥ç¶²çµ¡è«‹æ±‚æ˜¯å¦æˆåŠŸ
3. æª¢æŸ¥ API ç«¯é»æ˜¯å¦æ­£ç¢º

---

### å•é¡Œ 3: æœå‹™å•Ÿå‹•å¤±æ•—

**åŸå› **: Python éŒ¯èª¤æˆ–å°å…¥éŒ¯èª¤

**è§£æ±ºæ–¹æ¡ˆ**:
```bash
ssh ubuntu@165.154.254.99 "sudo journalctl -u luckyred-api -n 50 | grep -i error"
```

æ ¹æ“šéŒ¯èª¤ä¿¡æ¯ä¿®å¾©å•é¡Œã€‚

---

## ğŸ“Š æ¸¬è©¦çµæœ

### API æ¸¬è©¦
- **ç‹€æ…‹**: å¾…æ¸¬è©¦
- **çµæœ**: å¾…ç¢ºèª

### å‰ç«¯æ¸¬è©¦
- **ç‹€æ…‹**: å¾…æ¸¬è©¦
- **çµæœ**: å¾…ç¢ºèª

### æœå‹™æ—¥èªŒ
- **ç‹€æ…‹**: å¾…æª¢æŸ¥
- **çµæœ**: å¾…ç¢ºèª

---

## ğŸ¯ ä¸‹ä¸€æ­¥è¡Œå‹•

### ç«‹å³åŸ·è¡Œ

1. **æª¢æŸ¥æœå‹™ç‹€æ…‹**
   ```bash
   ssh ubuntu@165.154.254.99 "sudo systemctl status luckyred-api"
   ```

2. **æª¢æŸ¥æœå‹™æ—¥èªŒ**
   ```bash
   ssh ubuntu@165.154.254.99 "sudo journalctl -u luckyred-api -n 30"
   ```

3. **æ¸¬è©¦å‰ç«¯åŠŸèƒ½**
   - æ‰“é–‹ MiniApp
   - æ¸¬è©¦æœç´¢åŠŸèƒ½

---

**æ¸¬è©¦å ±å‘Šç”Ÿæˆæ™‚é–“**: $(Get-Date -Format "yyyy-MM-dd HH:mm:ss")

